# =============================================================================
# Rejourney Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# For production, use strong random secrets (openssl rand -base64 32)

# =============================================================================
# CORE SERVICES
# =============================================================================

NODE_ENV=development
PORT=3000

# PostgreSQL - Use your actual credentials
DATABASE_URL=postgresql://rejourney:YOUR_SECURE_PASSWORD@postgres:5432/rejourney

# Redis
REDIS_URL=redis://redis:6379/0

# =============================================================================
# OBJECT STORAGE (Hetzner S3-Compatible)
# =============================================================================

# For local development:
# S3_ENDPOINT=http://minio:9000
# S3_PUBLIC_ENDPOINT=http://localhost:9000

# Mapbox token (UI Maps)
VITE_MAPBOX_TOKEN=

# Enable Demo mode
VITE_DEMO_MODE=true

# For Hetzner production:
S3_ENDPOINT=https://fsn1.your-objectstorage.com
S3_PUBLIC_ENDPOINT=https://fsn1.your-objectstorage.com
S3_REGION=eu-central
S3_BUCKET=rejourney-recordings
S3_ACCESS_KEY_ID=your_hetzner_access_key
S3_SECRET_ACCESS_KEY=your_hetzner_secret_key

# =============================================================================
# CLOUDFLARE R2 BACKUP (for PostgreSQL backups)
# =============================================================================

# Get your Account ID from: Cloudflare Dashboard → R2 → Overview
# Create API token with Object Read & Write permission for your backup bucket
# Note: Endpoint includes region, e.g. .eu.r2 for EU buckets
R2_ENDPOINT=https://YOUR_ACCOUNT_ID.eu.r2.cloudflarestorage.com
R2_BUCKET=rejourney-backup
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# Generate with: openssl rand -hex 32
JWT_SECRET=generate_with_openssl_rand_hex_32
JWT_SIGNING_KEY=generate_with_openssl_rand_hex_32
INGEST_HMAC_SECRET=generate_with_openssl_rand_hex_32

# Generate with: openssl rand -hex 32 (for encrypting S3 secrets in database)
STORAGE_ENCRYPTION_KEY=generate_with_openssl_rand_hex_32

# =============================================================================
# PUBLIC URLs (Update for your domain)
# =============================================================================

PUBLIC_DASHBOARD_URL=https://rejourney.co/dashboard
PUBLIC_API_URL=https://api.rejourney.co
PUBLIC_INGEST_URL=https://ingest.rejourney.co
DASHBOARD_ORIGIN=https://rejourney.co/dashboard

# =============================================================================
# CLOUDFLARE TURNSTILE (Optional - for bot protection)
# =============================================================================

TURNSTILE_SITE_KEY=
TURNSTILE_SECRET_KEY=

# =============================================================================
# STRIPE (Optional - for billing)
# =============================================================================

# Use test keys for staging, live keys for production
STRIPE_SECRET_KEY=sk_live_or_sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================================================
# OAUTH PROVIDERS (Optional)
# =============================================================================

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
OAUTH_REDIRECT_BASE=https://api.rejourney.co

# =============================================================================
# EMAIL (Optional - for OTP authentication)
# =============================================================================

SMTP_HOST=smtp.zeptomail.com
SMTP_PORT=587
SMTP_USER=emailapikey
SMTP_PASS=your_smtp_password
SMTP_FROM="Rejourney <noreply@rejourney.co>"
SMTP_SECURE=false

# =============================================================================
# DEPLOYMENT FLAGS
# =============================================================================

# Set to true for self-hosted deployments (disables some cloud features)
SELF_HOSTED_MODE=true

# Cookie security - leave empty for auto, or set true/false
COOKIE_SECURE=true

# Logging level: debug, info, warn, error
LOG_LEVEL=info
